/* style.css - Fluffy Farm Friends: FIXED VISUAL HELL v2.0 ğŸ˜‡ğŸ’•â†’ğŸ’€ğŸ”¥ğŸ’¥ */
/* Victory screen NO LONGER STUCK. Troll phase survives innerHTML nukes. */
/* Jar laughs at your previous suffering. */

@import url('https://fonts.googleapis.com/css2?family=Bubblegum+Sans:wght@400&family=Comic+Neue:wght@400;700&family=Fredoka+One&display=swap');

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    -webkit-tap-highlight-color: transparent;
}

body {
    background: linear-gradient(135deg, #ff9ece 0%, #a8e6cf 50%, #ffd3b6 100%);
    min-height: 100vh;
    font-family: 'Bubblegum Sans', 'Comic Neue', cursive;
    color: #333;
    overflow: hidden; /* CHANGED: Prevent scroll lock issues on victory */
    touch-action: manipulation;
}

.game-container {
    max-width: 1000px;
    margin: 0 auto;
    padding: 20px;
    text-align: center;
}

/* [ALL YOUR PREVIOUS STYLES REMAIN IDENTICAL UP TO VICTORY SECTION - NO CHANGES NEEDED THERE] */

/* Victory screen troll - NOW BULLETPROOF */
.full-overlay {
    position: fixed;
    inset: 0;
    background: linear-gradient(45deg, #ff9ece, #a8e6cf, #ffd3b6);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    z-index: 300;
    text-align: center;
    padding: 20px;
    overflow: hidden;
}

/* NEW: Dedicated troll phase that survives JS innerHTML murder */
.full-overlay.troll-phase {
    background: linear-gradient(45deg, #ff0000, #000000, #ff1493);
    animation: seizureBg 0.5s infinite;
}

.full-overlay.troll-phase h1 {
    font-size: 6rem !important;
    color: #ffffff !important;
    text-shadow: 0 0 30px #ff0000 !important;
    animation: shake 0.3s infinite !important;
}

.full-overlay.troll-phase p {
    font-size: 3rem !important;
    color: #ffff00 !important;
}

@keyframes seizureBg {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}

@keyframes shake {
    0% { transform: translate(1px, 1px) rotate(0deg); }
    10% { transform: translate(-1px, -2px) rotate(-1deg); }
    20% { transform: translate(-3px, 0px) rotate(1deg); }
    30% { transform: translate(3px, 2px) rotate(0deg); }
    40% { transform: translate(1px, -1px) rotate(1deg); }
    50% { transform: translate(-1px, 2px) rotate(-1deg); }
    60% { transform: translate(-3px, 1px) rotate(0deg); }
    70% { transform: translate(3px, 1px) rotate(-1deg); }
    80% { transform: translate(-1px, -1px) rotate(1deg); }
    90% { transform: translate(1px, 2px) rotate(0deg); }
    100% { transform: translate(1px, -2px) rotate(-1deg); }
}

/* Ensure victory content always centered even after JS nukes it */
.victory-content, .full-overlay > * {
    max-width: 90%;
}

/* Fix potential mobile issues */
@media (max-width: 480px) {
    .full-overlay h1 { font-size: 3.5rem !important; }
    .full-overlay p { font-size: 2rem !important; }
}

/* Rest of your original CSS unchanged below - animals, jar, toasts, etc. */
/* ... (everything from .big-victory-btn down to the end remains THE SAME) */

/* Final evil touch - now unkillable */
body::after {
    content: "Everything is fine ğŸŒˆ";
    position: fixed;
    bottom: 10px;
    left: 50%;
    transform: translateX(-50%);
    font-size: 1.2rem;
    color: transparent;
    animation: revealLie 30s forwards;
    z-index: 9999;
    pointer-events: none;
}

@keyframes revealLie {
    0%, 98% { color: transparent; content: "Everything is fine ğŸŒˆ"; }
    99% { color: #ff0000; content: "Everything is NOT fine ğŸ’€"; }
    100% { color: #ff0000; content: "Everything is NOT fine ğŸ’€"; }
}

console.log("CSS FIXED. Victory troll now survives apocalypses. Jar is proud. ğŸ°ğŸ’¥ğŸ’€");
